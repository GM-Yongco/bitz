<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hold Timer</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 50px; }
    #timer { font-size: 48px; margin: 20px; }
    button { font-size: 24px; padding: 20px; }
  </style>
</head>


<body>
  
  <button 
  onfocus="this.style.outline='none'"
  style="
  width: 80vw;
  height: 40vh;

  padding: 0;
  margin: 0;

  display: flex;
  justify-content: center;
  align-items: center;

  padding:auto;
  margin:auto;

  outline: none;
  box-shadow: none;
  border:none;
  background-color: rgba(128, 255, 128, 1);
  "
  id="holdBtn"
  >HOLD</button>
  
  <div style="
  width: 80vw;
  height: 10vh;

  display: flex;
  justify-content: center;
  align-items: center;

  padding:auto;
  margin:auto;

  "
  id="timer">0.0</div>

  <button 
  onfocus="this.style.outline='none'"
  style="
  width: 80vw;
  height: 40vh;

  padding: 0;
  margin: 0;

  display: flex;
  justify-content: center;
  align-items: center;

  padding:auto;
  margin:auto;

  outline: none;
  box-shadow: none;
  border:none;
  background-color: rgba(255, 128, 128, 1);
  "
  id="reset"
  onclick="reset()"
  >RESET</button>

  <!-- ============================== -->
  <script>
    let count = 0;
    let intervalId = null;
    const timerDisplay = document.getElementById("timer");
    const holdBtn = document.getElementById("holdBtn");

    function updateTimer() {
      count = parseFloat(count || 0);
      count = (Math.round((count + 0.1) * 10) / 10).toFixed(1);
      timerDisplay.textContent = count;
    }

    // ==============================
    // RESET TIMERS
    // ==============================
  
    function reset() {
      count = (0).toFixed(1);
      timerDisplay.textContent = count;
    }

    // ==============================
    // START TIMERS
    // ==============================
    const INCREMENT = 100 // 100ms

    holdBtn.addEventListener("mousedown", () => {
      if (intervalId === null) {
        intervalId = setInterval(updateTimer, INCREMENT);
      }
    });
    
    holdBtn.addEventListener("touchstart", (e) => {
      e.preventDefault(); // prevents highlighting of the text in the button
      if (intervalId === null) {
        intervalId = setInterval(updateTimer, INCREMENT);
      }
    });

    // ==============================
    // STOP TIMERS
    // ==============================
    holdBtn.addEventListener("mouseup", () => {
      clearInterval(intervalId);
      intervalId = null;
    });

    holdBtn.addEventListener("mouseleave", () => {
      clearInterval(intervalId);
      intervalId = null;
    });

    holdBtn.addEventListener("touchend", () => {
      clearInterval(intervalId);
      intervalId = null;
    });

  </script>
  <!-- ============================== -->
</body>
</html>
